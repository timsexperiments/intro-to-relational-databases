# Homework 16: Stored Procedures

## Objectives

- Write stored procedures to encapsulate library operations
- Use input and output parameters
- Employ variables and control flow inside procedures

## Instructions

Create a SQL script (`hw16.sql`) that implements the procedures described below using the **library schema**. Precede each proce
dure with a comment showing the question number and name.

### Questions

1. **Add Member Procedure**
   - Create `add_member(IN p_name VARCHAR(255), IN p_email VARCHAR(255))`.
   - Inserts a row into `members` with the provided name and email.

2. **Checkout Book Procedure**
   - Create `checkout_book(IN p_member_id INT, IN p_book_id INT, IN p_due_days INT)`.
   - Inserts into `checkouts` with `checkout_date = CURRENT_DATE` and `due_date = CURRENT_DATE + INTERVAL p_due_days DAY`.

3. **Return Book Procedure**
   - Create `return_book(IN p_checkout_id INT)`.
   - Sets `returned_at = CURRENT_DATE` for the given checkout if it is still outstanding.

4. **Member Overdue Count**
   - Create `member_overdue_count(IN p_member_id INT, OUT p_total INT)`.
   - Counts how many of the memberâ€™s checkouts are past due (`due_date < CURRENT_DATE AND returned_at IS NULL`) and stores the
result in `p_total`.

5. **Renew Checkout Procedure**
   - Create `renew_checkout(IN p_checkout_id INT, IN p_extra_days INT)`.
   - If the book has not been returned, extend its `due_date` by `p_extra_days`; otherwise do nothing.

## Submission

- Save your procedures in a file named `hw16.sql`.
- Place the file in: `submissions/homework_16/<your-github-username>/`.
- Submit a pull request as described in the [submissions README](../submissions/README.md).

## Example Directory Structure

```
submissions/
  homework_16/
    your-github-username/
      hw16.sql
```

## Tips

- Use `DELIMITER` to define procedures that contain multiple statements.
- Test each procedure with sample data before submission.
- Include comments (`--`) to label each answer.
